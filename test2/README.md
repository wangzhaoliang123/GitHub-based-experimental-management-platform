# 实验1：业务流程建模 #
|    学号  |   班级    |    姓名  |   照片     |
|:--------:|:--------: | :----------: | :-------:|
|201510414416|软件(本)15-4|王召亮 |![](./01.jpg '666')|
## 1.图书管理系统的用例关系图 ##
**1.1 用例图PlantUML源码如下：**
<pre> 
@startuml
left to right direction
:图书管理员: as Librarian
:读者: as Reader
rectangle 图书管理系统{
Librarian --> (借出图书)
Librarian --> (归还图书)
Librarian --> (维护图书)
Librarian --> (登记赔偿)
Librarian --> (维护读者信息)

Reader --> (登录)
Reader --> (查询书目)
Reader --> (查询借阅情况)
Reader --> (预定图书)
Reader --> (取消预订)

(预定图书).>(登录):<<include>>
(取消图书).>(登录):<<include>>
(预定图书).>(查询书目):<<include>>
(维护读者信息).>(Reader):<<include>>
(取消预订).>(预定图书):<<extend>>
(登记赔偿).>(归还图书):<<extend>>
(归还图书).>(维护图书):<<extend>>
(借出图书).>(维护图书):<<extend>>
}
@enduml
</pre> 
**1.2. 用例图如下：**

![](./bookManagerSystem.png '图书管理系统用例图')


## 2. 参与者说明： ##
**2.1 图书管理员**

主要职责是：
- 对读者的借、还书等操作进行管理。
- 对读者信息进行系统性的管理。
- 对逾期还书或图书丢失进行登记赔偿。

**2.2 读者**

主要职责是：
- 在未登录前可以查询书目和当前借阅情况。
- 登录后可以进行图书预订和取消预订操作。



## 3. 用例规约表 ##
**3.1 “借出图书”用例**

|Title | 内容 |
|:------:|:------:|
|用例名称|借出图书|  
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权|
|后置条件|存储借书记录，更新库存数据，所借图书状态为借出|
|主事件流|1.图书管理员将读者借书卡提供给系统；<br>2.系统验证读者身份和借书条件；<br>3.图书管理员将读者所借图书输入系统；<br>4.系统记录借书信息，并且修改图书的状态和此书的可借数量；<br>5.系统累加读者的借书数量；<br>6.重复3~5，直到图书管理员确认全部图书登记完毕；<br>7.系统打印借书清单，交易成功完成。|
|备注|图书馆开架借阅，读者找到书后办理借书手续，因此借书不需要验证库存，而且每本书都是可识别的。|

***3.1.1 “借出图书”用例流程图源码如下：***

<pre>
@startuml
:图书管理员: as Librarian
:读者: as Reader
left to right direction
Librarian -->(借出图书)
(借出图书) <--Reader
@enduml
</pre>

***3.1.2 “借出图书”用例流程图如下：***

![](./borrowBook.png '借出图书')

**3.2 “归还图书”用例**

|Title | 内容 |
|:------:|:------:|
|用例名称|归还图书|  
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权|
|后置条件|存储借书记录，更新库存数据，所借图书状态为借出|
|主事件流|1.图书管理员将图书提供给系统；<br>2.系统根据借书记录验证图书信息；<br>3.系统提供借阅该书的读者信息；<br>4.系统修改借书记录，更新该书的状态及此种书的可借数量；<br>5.图书管理员重复步骤1，直到结束退出。<br>
|备注|图书馆开架借阅，读者找到书后办理借书手续，因此借书不需要验证库存，而且每本书都是可识别的。|

***3.2.1 “归还图书”用例流程图源码如下：***

<pre>
@startuml
:图书管理员: as Librarian
:读者: as Reader
left to right direction
rectangle {
Librarian -->(归还图书)
(超期罚款).>(归还图书):<<extends>>
(归还图书) <--Reader
}
@enduml
</pre>

***3.2.2 “归还图书”用例流程图如下：***

![](./returnBook.png '归还图书')


**3.3 “预订图书”用例**

|Title | 内容 |
|:------:|:------:|
|用例名称|预订图书|  
|参与者|读者（主要参与者）、图书管理员（次要参与者）|
|前置条件|图书管理员已被识别和授权|
|后置条件|存储借书记录，更新库存数据，所借图书状态为借出|
|主事件流|1.图书管理员将图书提供给系统；<br>2.系统根据借书记录验证图书信息；<br>3.系统提供借阅该书的读者信息；<br>4.系统修改借书记录，更新该书的状态及此种书的可借数量；<br>5.读者在预定图书之前，先查询书目，是否可借。<br>
|备注|图书馆开架借阅，读者找到书后办理借书手续，因此借书不需要验证库存，而且每本书都是可识别的。|

***3.3.1 “预订图书”用例流程图源码如下：***

<pre>
@startuml
:图书管理员: as Librarian
:读者: as Reader
left to right direction
rectangle {
Librarian -->(预订图书)
(查询书目).>(预订图书):<<include>>
(预订图书) <--Reader
}
@enduml
</pre>

***3.3.2 “预订图书”用例流程图如下：***

![](./bookingBook.png '预订图书')

